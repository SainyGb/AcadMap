
# üìò API - Ve√≠culo de Publica√ß√£o

Este documento descreve os endpoints dispon√≠veis no backend, incluindo os m√©todos HTTP esperados, headers e par√¢metros de entrada.

Base URL:  
```
/api/veiculo
```

---

## ‚úÖ 1. **Aprovar Ve√≠culo de Publica√ß√£o**

**Endpoint:**
```
PUT /api/veiculo/aprovar-veiculo/{id}
```

**Descri√ß√£o:**  
Aprova um ve√≠culo de publica√ß√£o caso o usu√°rio **n√£o seja um pesquisador** e **n√£o esteja vinculado** ao ve√≠culo.

**Headers obrigat√≥rios:**
```http
X-User-Id: <UUID do usu√°rio que est√° tentando aprovar>
```

**Path Parameters:**
- `id` ‚Äì UUID do ve√≠culo a ser aprovado

**Resposta:**
- `202 Accepted` ‚Äì Ve√≠culo aprovado com sucesso
- `405 Method Not Allowed` ‚Äì Usu√°rio sem permiss√£o para aprovar
- `400 Bad Request` ‚Äì Erro na requisi√ß√£o (ex: ve√≠culo inexistente)

---

## ‚ùå 2. **Negar Ve√≠culo de Publica√ß√£o**

**Endpoint:**
```
PUT /api/veiculo/negar-veiculo/{id}
```

**Descri√ß√£o:**  
Nega um ve√≠culo de publica√ß√£o, sob as mesmas regras de aprova√ß√£o.

**Headers obrigat√≥rios:**
```http
X-User-Id: <UUID do usu√°rio que est√° tentando negar>
```

**Path Parameters:**
- `id` ‚Äì UUID do ve√≠culo a ser negado

**Resposta:**
- `202 Accepted` ‚Äì Ve√≠culo negado com sucesso
- `405 Method Not Allowed` ‚Äì Usu√°rio sem permiss√£o para negar
- `400 Bad Request` ‚Äì Erro na requisi√ß√£o

---

## üìÑ 3. **Listar Ve√≠culos Pendentes**

**Endpoint:**
```
GET /api/veiculo/periodico-pendente
```

**Descri√ß√£o:**  
Retorna todos os ve√≠culos de publica√ß√£o com status **pendente**.

**Headers obrigat√≥rios:**
```http
X-User-Id: <UUID do usu√°rio solicitante>
```

**Resposta:**
- `200 OK` ‚Äì Lista de ve√≠culos pendentes
- `404 Not Found` ‚Äì Nenhum ve√≠culo pendente encontrado

---

## ‚öôÔ∏è Regras internas de neg√≥cio

- **Permiss√µes de a√ß√£o** (aprovar/negar) s√£o negadas se o usu√°rio:
  - Tem perfil de **pesquisador**; ou
  - Est√° **vinculado** ao ve√≠culo (`id_usuario` do ve√≠culo = `X-User-Id`).


# üìò API - Cadastro de usu√°rio

**Endpoint:** `POST /api/usuario/cadastro`  
**Descri√ß√£o:** Cria um novo usu√°rio no sistema.

---

## üî∏ Requisi√ß√£o

**Content-Type:** `application/json`  
**Corpo esperado:**

```json
{
  "nome": "Maria da Silva",
  "email": "maria.silva@example.com",
  "senha": "senha123",
  "tipoPerfil": "PESQUISADOR",
  "idPrograma": "c6f2e2de-ef91-4f3f-9e43-2f95f8dd4a21",
  "idsAreasPesquisa": [
    "a1b2c3d4-e5f6-7890-ab12-34567890cdef",
    "123e4567-e89b-12d3-a456-426614174000"
  ]
}
```

### Campos:
- `nome` (string): Nome completo do usu√°rio.
- `email` (string): E-mail do usu√°rio.
- `senha` (string): Senha para acesso.
- `tipoPerfil` (string): Tipo do perfil do usu√°rio. Ex: `"PESQUISADOR"`, `"ADMIN"`, etc.
- `idPrograma` (UUID): Identificador do programa vinculado.
- `idsAreasPesquisa` (array de UUIDs): IDs das √°reas de pesquisa associadas ao usu√°rio.

---

## ‚úÖ Resposta

**Status:** `201 Created`  
**Body:**

```json
{
  "idUsuario": "c8f6df88-9227-42e4-bd0a-36f8f9e7e021",
  "nome": "Maria da Silva",
  "email": "maria.silva@example.com",
  "tipoPerfil": "PESQUISADOR",
  "idPrograma": "c6f2e2de-ef91-4f3f-9e43-2f95f8dd4a21",
  "idsAreasPesquisa": [
    "a1b2c3d4-e5f6-7890-ab12-34567890cdef",
    "123e4567-e89b-12d3-a456-426614174000"
  ]
}
```

### Campos:
- `idUsuario` (UUID): Identificador √∫nico do usu√°rio criado.
- `nome`, `email`, `tipoPerfil`, `idPrograma`, `idsAreasPesquisa`: mesmos campos enviados, com confirma√ß√£o do que foi salvo.

---
